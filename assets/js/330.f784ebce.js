(window.webpackJsonp=window.webpackJsonp||[]).push([[330],{972:function(e,a,s){"use strict";s.r(a);var t=s(9),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("TitleSpan",[e._v(e._s(e.$frontmatter.folder))]),e._v(" "),s("h1",{attrs:{id:"frontmatter-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),s("VersionWarning"),e._v(" "),s("TocHeader"),e._v(" "),s("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),e._v(" "),s("p",[e._v("Use the deployer image to deploy or remove an Airnode with a cloud provider such\nas AWS. The simplest way is to use the pre-built packages. If you would rather\nbuild the images yourself see the\n"),s("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.2/packages/airnode-deployer/docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("README"),s("OutboundLink")],1),e._v("\nin the deployer package.")]),e._v(" "),s("p",[e._v("The deployer image has two commands.")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("deploy")]),e._v(": Deploys or updates an Airnode using configuration files.")]),e._v(" "),s("li",[s("code",[e._v("remove")]),e._v(": Removes an Airnode using its "),s("code",[e._v("receipt.json")]),e._v(" file.")])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Quick Deploy Demo")]),e._v(" "),s("p",[e._v("See the "),s("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/tutorial/"}},[e._v("Quick Deploy")]),e._v(" demo to quickly "),s("code",[e._v("deploy")]),e._v(" and "),s("code",[e._v("remove")]),e._v(" a\npreconfigured Airnode using the deployer image.")],1)]),e._v(" "),s("h2",{attrs:{id:"cloud-provider-credentials"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cloud-provider-credentials"}},[e._v("#")]),e._v(" Cloud Provider Credentials")]),e._v(" "),s("p",[e._v("In order to deploy Airnode to a serverless cloud provider like AWS, you need to\nprovide could provider credentials to the Airnode deployer image. The deployer\nimage currently supports deploying to AWS. If you are new to AWS watch this\n"),s("a",{attrs:{href:"https://www.youtube.com/watch?v=KngM5bfpttA",target:"_blank",rel:"noopener noreferrer"}},[e._v("video"),s("OutboundLink")],1),e._v(" to set up an AWS account\nand create cloud provider credentials.")]),e._v(" "),s("h2",{attrs:{id:"deploy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[e._v("#")]),e._v(" "),s("code",[e._v("deploy")])]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("deploy")]),e._v(" command will create the Airnode with a cloud provider or update it\nif it already exists. Three files are needed to run the deploy command.")]),e._v(" "),s("ul",[s("li",[e._v("config.json")]),e._v(" "),s("li",[e._v("secrets.env")]),e._v(" "),s("li",[e._v("aws.env")])]),e._v(" "),s("p",[e._v("A "),s("code",[e._v("receipt.json")]),e._v(" file will be created upon completion. It contains some\ndeployment information and is used to remove the Airnode.")]),e._v(" "),s("p",[s("airnode-DeployerPermissionsWarning")],1),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("docker run -it --rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --env-file aws.env "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("USER_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("id")]),e._v(" -u"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(" -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("GROUP_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("id")]),e._v(" -g"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('/config:/app/config"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('/output:/app/output"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  api3/airnode-deployer:0.2.2 deploy\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])])]),e._v(" "),s("Tab",{attrs:{label:"Windows"}},[s("p",[e._v("For Windows, use CMD (and not PowerShell).")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("docker run -it --rm ^\n  --env-file aws.env ^\n  -v "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"%cd%/config:/app/config"')]),e._v(" ^\n  -v "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"%cd%/output:/app/output"')]),e._v(" ^\n  api3/airnode-deployer:0.2.2 deploy\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])])],1),e._v(" "),s("h2",{attrs:{id:"remove"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remove"}},[e._v("#")]),e._v(" "),s("code",[e._v("remove")])]),e._v(" "),s("p",[e._v("When an Airnode was deployed using the "),s("code",[e._v("deploy")]),e._v(" command a "),s("code",[e._v("receipt.json")]),e._v(" file\nwas created. Use this file to remove an Airnode.")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("docker run -it --rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --env-file aws.env "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('/output:/app/output"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  api3/airnode-deployer:0.2.2 remove -r output/receipt.json\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])]),e._v(" "),s("Tab",{attrs:{label:"Windows"}},[s("p",[e._v("For Windows, use CMD (and not PowerShell).")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("docker run -it --rm ^\n  --env-file aws.env ^\n  -v "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"%cd%/output:/app/output"')]),e._v(" ^\n  api3/airnode-deployer:0.2.2 remove -r output/receipt.json\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])])],1),e._v(" "),s("h2",{attrs:{id:"manual-removal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manual-removal"}},[e._v("#")]),e._v(" Manual Removal")]),e._v(" "),s("airnode-DeleteAirnodeAws",{attrs:{dynamoDB:"show"}})],1)}),[],!1,null,null,null);a.default=r.exports}}]);