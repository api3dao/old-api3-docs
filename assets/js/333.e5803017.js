(window.webpackJsonp=window.webpackJsonp||[]).push([[333],{976:function(e,t,a){"use strict";a.r(t);var s=a(9),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("TitleSpan",[e._v(e._s(e.$frontmatter.folder))]),e._v(" "),a("h1",{attrs:{id:"frontmatter-title"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),a("VersionWarning"),e._v(" "),a("TocHeader"),e._v(" "),a("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),e._v(" "),a("p",[e._v("After integrating your API ("),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/api-integration.html"}},[e._v("API Integration")]),e._v(") and creating\nthe configuration files ("),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/configuring-airnode.html"}},[e._v("Configuring Airnode")]),e._v("), the\nnext step is to deploy the Airnode.")],1),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Complete the following before deploying your Airnode.")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/api-integration.html"}},[e._v("API Integration")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/configuring-airnode.html"}},[e._v("Configuring Airnode")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/apply-auth.html"}},[e._v("Applying Authorization")]),e._v(" optional")],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/heartbeat.html"}},[e._v("Heartbeat")]),e._v(" optional")],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/http-gateway.html"}},[e._v("HTTP Gateway")]),e._v(" optional")],1)])]),e._v(" "),a("h2",{attrs:{id:"deploy-with-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-with-docker"}},[e._v("#")]),e._v(" Deploy with Docker")]),e._v(" "),a("p",[e._v("The recommended way to deploy Airnode is by using the Docker\n"),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/docker/deployer-image.html"}},[e._v("deployer image")]),e._v(". This image is simply a wrapper\naround the\n"),a("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.2/packages/airnode-deployer",target:"_blank",rel:"noopener noreferrer"}},[e._v("deployer CLI"),a("OutboundLink")],1),e._v(".\nTry out the "),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/tutorial/"}},[e._v("Quick Deploy")]),e._v(" tutorial if you wish to become\nfamiliar with the deployer image first.")],1),e._v(" "),a("p",[e._v("The deployer interacts with a cloud provider (AWS) to deploy Airnode\nprogrammatically, without requiring you to click through a lot of ever-changing\ngraphical interfaces. For it to do so, an "),a("code",[e._v("aws.env")]),e._v(" file is required and was\ndiscussed in\n"),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/configuring-airnode.html#creating-aws-env"}},[e._v("Configuring an Airnode")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"install-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-docker"}},[e._v("#")]),e._v(" Install Docker")]),e._v(" "),a("p",[e._v("The "),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/docker/deployer-image.html"}},[e._v("deployer image")]),e._v(" is containerized as a\nDocker image. This will deploy the Airnode to AWS Lambda without the worry of\ninstalling dependencies and is the recommended way to do a deployment. If you do\nnot already have docker installed go to the\n"),a("a",{attrs:{href:"https://docs.docker.com/get-docker/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker website"),a("OutboundLink")],1),e._v(" and install it.")],1),e._v(" "),a("h2",{attrs:{id:"deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[e._v("#")]),e._v(" Deployment")]),e._v(" "),a("p",[e._v("At this point your project should resemble the following. The "),a("code",[e._v("config.json")]),e._v(",\n"),a("code",[e._v("secrets.env")]),e._v(" and "),a("code",[e._v("aws.env")]),e._v(" files should be ready to go. Other files you may\nhave added are expected but not used by the deployer image.")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("my-airnode\n├── aws.env\n├── config\n│   ├── config.json\n│   └── secrets.env\n└── output\n    ├── receipt.json\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("From the root of the project directory run the Docker\n"),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/docker/deployer-image.html"}},[e._v("deployer image")]),e._v(" which will deploy the Airnode\nto AWS. When the deployment has completed a "),a("code",[e._v("receipt.json")]),e._v(" file will be written\nto the "),a("code",[e._v("/output")]),e._v(" folder. This file contains important configuration information\nabout the Airnode and is needed to remove the Airnode should the need arise.")],1),e._v(" "),a("p",[a("airnode-DeployerPermissionsWarning")],1),e._v(" "),a("Tabs",{attrs:{type:"border-card"}},[a("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('docker run -it --rm \\\n  --env-file aws.env \\\n  -e USER_ID=$(id -u) -e GROUP_ID=$(id -g) \\\n  -v "$(pwd)/config:/app/config" \\\n  -v "$(pwd)/output:/app/output" \\\n  api3/airnode-deployer:0.2.2 deploy\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])])]),e._v(" "),a("Tab",{attrs:{label:"Windows"}},[a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("docker run -it --rm ^\n  --env-file aws.env ^\n  -v "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"%cd%/config:/app/config"')]),e._v(" ^\n  -v "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"%cd%/output:/app/output"')]),e._v(" ^\n  api3/airnode-deployer:0.2.2 deploy\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])])])],1),e._v(" "),a("p",[e._v("When the deployment is complete a\n"),a("code",[e._v("receipt.json' file is placed into the")]),e._v("/output` folder.")]),e._v(" "),a("h3",{attrs:{id:"receipt-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#receipt-json"}},[e._v("#")]),e._v(" receipt.json")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("receipt.json")]),e._v(" file is a product of a successful deployment. It contains\nconfiguration information for the Airnode and must be used to remove the Airnode\nshould you choose.")]),e._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"airnodeWallet"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"airnodeAddress"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0xaBd9daAdf32fCd96eE4607bf3d5B31e19a244Cac"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"airnodeAddressShort"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"abd9daa"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"xpub"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"xpub661MyMwAqRbcGHp9uC7...vbeziJwFHuNs"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"deployment"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"airnodeAddressShort"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"abd9daa"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"cloudProvider"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"aws"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"region"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"us-east-1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"stage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"nodeVersion"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0.2.2"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"api"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"httpGatewayUrl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://6vmx3xp8tj.execute-api.us-east-1.amazonaws.com/v1/test"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br")])]),a("h2",{attrs:{id:"testing-with-http-gateway"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-with-http-gateway"}},[e._v("#")]),e._v(" Testing with HTTP Gateway")]),e._v(" "),a("p",[e._v("If you opted to enable the HTTP Gateway it can be used to test the Airnode while\nbypassing the chain it was deployed to. There are two examples in other docs\nthat detail how to do this.")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/guides/build-an-airnode/http-gateway.html#using-curl"}},[e._v("HTTP Gateway")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-providers/tutorial/#test-the-airnode"}},[e._v("Quick Deploy")])],1)]),e._v(" "),a("h2",{attrs:{id:"removing-the-airnode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removing-the-airnode"}},[e._v("#")]),e._v(" Removing the Airnode")]),e._v(" "),a("p",[e._v("When the Airnode was deployed a "),a("code",[e._v("receipt.json")]),e._v(" file was created in the "),a("code",[e._v("/output")]),e._v("\nfolder. This file is needed to remove an Airnode.")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("--env-file")]),e._v(": Location of the "),a("code",[e._v("aws.env")]),e._v(" file.")]),e._v(" "),a("li",[a("code",[e._v("-v")]),e._v(": Location of the "),a("code",[e._v("receipt.json")]),e._v(" file.")])]),e._v(" "),a("Tabs",{attrs:{type:"border-card"}},[a("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("docker run -it --rm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --env-file aws.env "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('/output:/app/output"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  api3/airnode-deployer:0.2.2 remove -r output/receipt.json\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])])]),e._v(" "),a("Tab",{attrs:{label:"Windows"}},[a("p",[e._v("For Windows, use CMD (and not PowerShell).")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("docker run -it --rm ^\n  --env-file aws.env ^\n  -v "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"%cd%/output:/app/output"')]),e._v(" ^\n  api3/airnode-deployer:0.2.2 remove -r output/receipt.json\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])])])],1),e._v(" "),a("h2",{attrs:{id:"calling-the-airnode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#calling-the-airnode"}},[e._v("#")]),e._v(" Calling the Airnode")]),e._v(" "),a("p",[e._v("Once the Airnode is deployed, see\n"),a("RouterLink",{attrs:{to:"/airnode/v0.2/grp-developers/call-an-airnode.html"}},[e._v("Calling an Airnode")]),e._v(" to learn how\nrequests are made to it.")],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);