(window.webpackJsonp=window.webpackJsonp||[]).push([[278],{905:function(t,s,e){"use strict";e.r(s);var a=e(9),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("TitleSpan",[t._v(t._s(t.$frontmatter.folder))]),t._v(" "),e("h1",{attrs:{id:"frontmatter-title"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[t._v("#")]),t._v(" "+t._s(t.$frontmatter.title))]),t._v(" "),e("VersionWarning"),t._v(" "),e("TocHeader"),t._v(" "),e("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),t._v(" "),e("p",[t._v("An Airnode can authorize smart contracts (know as requesters) access to its\nendpoints using "),e("RouterLink",{attrs:{to:"/airnode/v0.10/concepts/authorizers.html"}},[t._v("Authorizers")]),t._v(". This method is\non-chain and requires some blockchain knowledge by an API provider.")],1),t._v(" "),e("p",[t._v("An "),e("RouterLink",{attrs:{to:"/airnode/v0.10/concepts/authorizers.html"}},[t._v("Authorizer")]),t._v(' is a contract which typically\nchecks for a single condition ("has the requester made their monthly payment",\n"is this '),e("code",[t._v("requesterAddress")]),t._v(' whitelisted", etc.). Authorizers can be combined to\nenforce more complex policies. If any of the authorizers in the list gives\naccess, the request will considered to be authorized. From a logical standpoint,\nthe authorization outcomes get '),e("em",[t._v("OR")]),t._v("ed.")],1),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Alternative: Relayed Meta Data")]),t._v(" "),e("p",[t._v("As an alternative to authorizers and authorizations, an API provider can use\n"),e("RouterLink",{attrs:{to:"/airnode/v0.10/grp-providers/guides/build-an-airnode/api-security.html#relayed-meta-data-security-schemes"}},[t._v("Relayed Meta Data")]),t._v(" to\nauthenticate a request. This approach is off-chain and requires no blockchain\nknowledge by the API provider. Note that it is possible to use authorizers,\nauthorizations, and relayed meta data together.")],1)]),t._v(" "),e("p",[t._v("When you deploy your Airnode a receipt file is generated which contains the\nAirnode's "),e("code",[t._v("airnodeAddress")]),t._v(". Sponsors (via their sponsored requesters) use\n"),e("code",[t._v("airnodeAddress")]),t._v(" and an "),e("code",[t._v("endpointId")]),t._v(" to make requests to your Airnode's\nendpoints. However, rather than serve them publicly, you may want to:")]),t._v(" "),e("ul",[e("li",[t._v("Only serve your own\n"),e("RouterLink",{attrs:{to:"/airnode/v0.10/grp-developers/requesters-sponsors.html"}},[t._v("requester contracts")]),t._v(".")],1),t._v(" "),e("li",[t._v("Only serve sponsors who have made a subscription payment.")]),t._v(" "),e("li",[t._v("Only serve sponsors who have gone through KYC.")])]),t._v(" "),e("p",[t._v("You can use different authorizer contracts for your Airnode deployment per chain\nby declaring them in the "),e("code",[t._v("config.json")]),t._v(" file under "),e("code",[t._v("chains[n].authorizers")]),t._v(". Add\none or more authorizer contract addresses to the\n"),e("code",[t._v("chains[n].authorizers.requesterEndpointAuthorizers")]),t._v(" array or add one or more\ncross-chain authorizer objects to the\n"),e("code",[t._v("chains[n].authorizers.crossChainRequesterAuthorizers")]),t._v(" array as shown below. If\nthe "),e("code",[t._v("requesterEndpointAuthorizers")]),t._v(" array is left empty then all requests will be\naccepted by the Airnode but still could be filtered by using\n"),e("RouterLink",{attrs:{to:"/airnode/v0.10/grp-providers/guides/build-an-airnode/api-security.html#relayed-meta-data-security-schemes"}},[t._v("Relayed Meta Data Security Schemes")]),t._v(".")],1),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n ...\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chains"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("                   Scheme type requesterEndpointAuthorizers lists\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        on-chain authorizer contract addresses\n      ...               such as RequesterAuthorizerWithAirnode\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"authorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  ⬇︎\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requesterEndpointAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Requests must satisfy at least")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xeabb...C123"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// one of the authorizer contracts")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xCE5e...1abc"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"crossChainRequesterAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ...\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"authorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requesterEndpointAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// All requests will be processed")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"crossChainRequesterAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ...\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"authorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requesterEndpointAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Requests must satisfy a")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xeabb...C123"')]),t._v("                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// single authorizer contract")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"crossChainRequesterAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ...\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"authorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requesterEndpointAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Requests must satisfy a")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xeabb...C123"')]),t._v("                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// single authorizer contract")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// OR an authorizer contract deployed")]),t._v("\n                                           "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// on a different chain (Ethereum mainnet)")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"crossChainRequesterAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requesterEndpointAuthorizers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xCE5e...1abc"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chainType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"evm"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chainId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"contracts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AirnodeRrp"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xa0AD...a1Bd"')]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chainProvider"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mainnet.infura.io/..."')]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br"),e("span",{staticClass:"line-number"},[t._v("55")]),e("br"),e("span",{staticClass:"line-number"},[t._v("56")]),e("br"),e("span",{staticClass:"line-number"},[t._v("57")]),e("br")])]),e("h2",{attrs:{id:"requesterauthorizerwithairnode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requesterauthorizerwithairnode"}},[t._v("#")]),t._v(" RequesterAuthorizerWithAirnode")]),t._v(" "),e("p",[t._v("A common use case for an authorizer is the\n"),e("RouterLink",{attrs:{to:"/airnode/v0.10/concepts/authorizers.html#requesterauthorizerwithairnode"}},[t._v("RequesterAuthorizerWithAirnode")]),t._v("\nauthorizer contract developed for Airnode operators to use right out-of-the-box.\nIt allows the whitelisting of requester contracts (with or without expiration\ntimestamps) on a per endpoint basis. Endpoints are declared in the\n"),e("code",[t._v("ois.endpoints")]),t._v(" field of the "),e("code",[t._v("config.json")]),t._v(" file. This is the most common use\ncase and can be implemented with the following steps:")],1),t._v(" "),e("ol",[e("li",[t._v("Add the RequesterAuthorizerWithAirnode\n"),e("RouterLink",{attrs:{to:"/airnode/v0.10/reference/airnode-addresses.html#requesterauthorizerwithairnode"}},[t._v("authorizer contract address")]),t._v("\nto the array "),e("code",[t._v("chains[n].authorizers.requesterEndpointAuthorizers")]),t._v(".")],1),t._v(" "),e("li",[t._v("After your Airnode is deployed, call the Admin CLI command\n"),e("RouterLink",{attrs:{to:"/airnode/v0.10/reference/packages/admin-cli.html#set-whitelist-expiration"}},[t._v("set-whitelist-expiration")]),t._v("\nto add the desired requester contract addresses to the whitelist maintained\nby RequesterAuthorizerWithAirnode.")],1)]),t._v(" "),e("p",[t._v("Once implemented, only requester contract addresses you have added to\nRequesterAuthorizerWithAirnode will have access to your Airnode.")])],1)}),[],!1,null,null,null);s.default=n.exports}}]);