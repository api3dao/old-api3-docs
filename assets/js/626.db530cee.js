(window.webpackJsonp=window.webpackJsonp||[]).push([[626],{1372:function(e,a,s){"use strict";s.r(a);var t=s(9),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("TitleSpan",[e._v(e._s(e.$frontmatter.folder))]),e._v(" "),s("h1",{attrs:{id:"frontmatter-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),s("VersionWarning"),e._v(" "),s("TocHeader"),e._v(" "),s("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),e._v(" "),s("p",[e._v("Usually the Airnode is deployed on a serverless platform using the\n"),s("RouterLink",{attrs:{to:"/airnode/v0.8/grp-providers/docker/deployer-image.html"}},[e._v("deployer")]),e._v(". However, there is another option which is to\nrun the Airnode in a docker container on your machine locally, on premise or\ncloud hosted.")],1),e._v(" "),s("p",[e._v("A docker client image has been published on\n"),s("a",{attrs:{href:"https://hub.docker.com/r/api3/airnode-client",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Hub"),s("OutboundLink")],1),e._v(". If you want to build\nthe container from the source yourself, you can find the image and built\ninstructions in the\n"),s("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.8/packages/airnode-node/docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("Airnode repository"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),s("p",[e._v("The Airnode needs two configuration files for its run: "),s("code",[e._v("config.json")]),e._v(" and\n"),s("code",[e._v("secrets.env")]),e._v(". These files need to be passed to the Docker container via\nvolumes.")]),e._v(" "),s("p",[e._v("The Docker container looks for configuration files mounted internally in the\n"),s("code",[e._v("/app/config")]),e._v(" directory.")]),e._v(" "),s("p",[e._v("Your current working directory should contain the configuration files above and\nyou bind it to the "),s("code",[e._v("/app/config")]),e._v(" directory for the docker using the "),s("code",[e._v("--volume")]),e._v("\nparameter.")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("$ tree\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n├── config.json\n└── secrets.env\n$ docker run --volume "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(":/app/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])]),e._v(" "),s("Tab",{attrs:{label:"Windows PowerShell"}},[s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[e._v("$ tree\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("\n├── config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("json\n└── secrets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("env\n$ docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("volume $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(":"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])]),e._v(" "),s("Tab",{attrs:{label:"Windows CMD"}},[s("div",{staticClass:"language-batch line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[e._v("$ tree\n.\n├── config.json\n└── secrets.env\n$ docker run --volume %cd%:/config:/app/config ...\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])])],1),e._v(" "),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),s("p",[e._v("Example directory structure and commands for running the Airnode Docker\ncontainer. The below commands are run from the depicted directory.")]),e._v(" "),s("h3",{attrs:{id:"running-airnode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-airnode"}},[e._v("#")]),e._v(" Running Airnode")]),e._v(" "),s("p",[e._v("It is recommended to run the Airnode in a detached mode using the "),s("code",[e._v("--detach")]),e._v("\nparameter, but you may run the it without it as well.")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("docker run --detach "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --volume "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(":/app/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --name airnode "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  api3/airnode-client:0.8.1\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])]),e._v(" "),s("Tab",{attrs:{label:"Windows PowerShell"}},[s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[e._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("detach \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("volume $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("pwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(":"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("config \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("name airnode \\\n  api3"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("airnode"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("client:0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("1\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])]),e._v(" "),s("Tab",{attrs:{label:"Windows"}},[s("div",{staticClass:"language-batch line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("docker")]),e._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[e._v("--detach")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("^")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[e._v("--volume")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("%cd%")]),e._v(":/app"),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[e._v("/config")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("^")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[e._v("--name")]),e._v(" airnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("^")]),e._v("\n  api3/airnode-client:"),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("."),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("8")]),e._v("."),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")])]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])])])],1),e._v(" "),s("blockquote",[s("p",[e._v("If you want to connect Airnode to a blockchain running on localhost, you need\nto make the blockchain accessible from within the docker itself. If you use\ndocker for linux you can use "),s("code",[e._v('--network="host"')]),e._v(" parameter. For windows, wsl or\nmac connect to "),s("code",[e._v("host.docker.internal")]),e._v(" instead of "),s("code",[e._v("127.0.0.1")]),e._v(". See\n"),s("a",{attrs:{href:"https://stackoverflow.com/a/24326540",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://stackoverflow.com/a/24326540"),s("OutboundLink")],1),e._v(".")])]),e._v(" "),s("h3",{attrs:{id:"checking-airnode-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checking-airnode-logs"}},[e._v("#")]),e._v(" Checking Airnode logs")]),e._v(" "),s("p",[e._v("If you run the Airnode in a detached mode, you need to use the "),s("code",[e._v("logs")]),e._v(" command to\naccess the logs. You can also use "),s("code",[e._v("--follow")]),e._v(" parameter to stream the Airnode log\noutput.")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("docker logs airnode\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("or")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("docker logs --follow airnode\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"stopping-airnode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stopping-airnode"}},[e._v("#")]),e._v(" Stopping Airnode")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("docker stop airnode\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);