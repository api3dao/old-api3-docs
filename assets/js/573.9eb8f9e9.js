(window.webpackJsonp=window.webpackJsonp||[]).push([[573],{1295:function(a,e,s){"use strict";s.r(e);var t=s(9),n=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("TitleSpan",[a._v(a._s(a.$frontmatter.folder))]),a._v(" "),s("h1",{attrs:{id:"frontmatter-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[a._v("#")]),a._v(" "+a._s(a.$frontmatter.title))]),a._v(" "),s("VersionWarning"),a._v(" "),s("TocHeader"),a._v(" "),s("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),a._v(" "),s("p",[a._v("Usually the Airnode is deployed on a serverless platform using the\n"),s("RouterLink",{attrs:{to:"/airnode/v0.7/grp-providers/docker/deployer-image.html"}},[a._v("deployer")]),a._v(". However, there is another option which is to\nrun the Airnode in a docker container on your machine locally, on premise or\ncloud hosted.")],1),a._v(" "),s("p",[a._v("A docker client image has been published on\n"),s("a",{attrs:{href:"https://hub.docker.com/r/api3/airnode-client",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker Hub"),s("OutboundLink")],1),a._v(". If you want to build\nthe container from the source yourself, you can find the image and built\ninstructions in the\n"),s("a",{attrs:{href:"https://github.com/api3dao/airnode/tree/v0.7/packages/airnode-node/docker",target:"_blank",rel:"noopener noreferrer"}},[a._v("Airnode repository"),s("OutboundLink")],1),a._v(".")]),a._v(" "),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[a._v("#")]),a._v(" Configuration")]),a._v(" "),s("p",[a._v("The Airnode needs two configuration files for its run: "),s("code",[a._v("config.json")]),a._v(" and\n"),s("code",[a._v("secrets.env")]),a._v(". These files need to be passed to the Docker container via\nvolumes.")]),a._v(" "),s("p",[a._v("The Docker container looks for configuration files mounted internally in the\n"),s("code",[a._v("/app/config")]),a._v(" directory.")]),a._v(" "),s("p",[a._v("Your current working directory should contain the "),s("code",[a._v("config")]),a._v(" folder with the\nconfiguration files above and you bind it to the "),s("code",[a._v("/app/config")]),a._v(" directory for the\ndocker using the "),s("code",[a._v("--volume")]),a._v(" parameter.")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("$ tree\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n└── config\n    ├── config.json\n    └── secrets.env\n$ docker run --volume "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/config:/app/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Windows PowerShell"}},[s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ tree\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n└── config\n    ├── config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("json\n    └── secrets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("env\n$ docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("volume $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Windows CMD"}},[s("div",{staticClass:"language-batch line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[a._v("$ tree\n.\n└── config\n    ├── config.json\n    └── secrets.env\n$ docker run --volume %cd%:/config:/app/config ...\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])])])],1),a._v(" "),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[a._v("#")]),a._v(" Usage")]),a._v(" "),s("p",[a._v("Example directory structure and commands for running the Airnode Docker\ncontainer. The below commands are run from the depicted directory.")]),a._v(" "),s("h3",{attrs:{id:"running-airnode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-airnode"}},[a._v("#")]),a._v(" Running Airnode")]),a._v(" "),s("p",[a._v("It is recommended to run the Airnode in a detached mode using the "),s("code",[a._v("--detach")]),a._v("\nparameter, but you may run the it without it as well.")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux/Mac/WSL2"}},[s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("docker run --detach "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --volume "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/config:/app/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --name airnode "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  api3/airnode-client:0.7.5\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Windows PowerShell"}},[s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("detach \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("volume $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("name airnode \\\n  api3"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("airnode"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("client:0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("7"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("5\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Windows"}},[s("div",{staticClass:"language-batch line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-batch"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[a._v("--detach")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("^")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[a._v("--volume")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("%cd%")]),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[a._v("/config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")])]),a._v("/app"),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[a._v("/config")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("^")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[a._v("--name")]),a._v(" airnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("^")]),a._v("\n  api3/airnode-client:"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("."),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v("."),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])])])],1),a._v(" "),s("blockquote",[s("p",[a._v("If you want to connect Airnode to a blockchain running on localhost, you need\nto make the blockchain accessible from within the docker itself. If you use\ndocker for linux you can use "),s("code",[a._v('--network="host"')]),a._v(" parameter. For windows, wsl or\nmac connect to "),s("code",[a._v("host.docker.internal")]),a._v(" instead of "),s("code",[a._v("127.0.0.1")]),a._v(". See\n"),s("a",{attrs:{href:"https://stackoverflow.com/a/24326540",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://stackoverflow.com/a/24326540"),s("OutboundLink")],1),a._v(".")])]),a._v(" "),s("h3",{attrs:{id:"checking-airnode-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checking-airnode-logs"}},[a._v("#")]),a._v(" Checking Airnode logs")]),a._v(" "),s("p",[a._v("If you run the Airnode in a detached mode, you need to use the "),s("code",[a._v("logs")]),a._v(" command to\naccess the logs. You can also use "),s("code",[a._v("--follow")]),a._v(" parameter to stream the Airnode log\noutput.")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker logs airnode\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("or")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker logs --follow airnode\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"stopping-airnode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stopping-airnode"}},[a._v("#")]),a._v(" Stopping Airnode")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker stop airnode\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);